{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rutinas</title>
    <link rel="stylesheet" href="{% static 'gitapp/estilo.css' %}">
</head>
<body>

<header>
    <h1>Rutinas</h1>
</header>

<nav>
    <ul>
        <li><a href="{% url 'index' %}">Inicio</a></li>
        <li><a href="{% url 'ejercicios' %}">Ejercicios</a></li>
        <li><a href="{% url 'usuarios' %}">Usuarios</a></li>
    </ul>
</nav>

<main>
    <h2>Lista de Rutinas</h2>

    <ul>
        {% for rutina in rutinas %}
            <li>
                <strong>{{ rutina.nombre }}</strong><br>
                Duración: {{ rutina.duracion }} minutos<br>
                Ejercicios: 
                <ul>
                    {% for ejercicio in rutina.ejercicios.all %}
                        <li>{{ ejercicio.nombre }}</li>
                    {% endfor %}
                </ul>
                <a href="{% url 'editar_rutina' rutina.id %}">Editar</a> |
                <a href="{% url 'eliminar_rutina' rutina.id %}">Eliminar</a>
            </li>
        {% endfor %}
    </ul>

    <h3>Agregar Rutina</h3>
    <form action="{% url 'agregar_rutina' %}" method="POST">
        {% csrf_token %}
        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" required><br>
        <label for="duracion">Duración (minutos):</label>
        <input type="number" id="duracion" name="duracion" required><br>
        <label for="ejercicios">Ejercicios:</label>
        <select id="ejercicios" name="ejercicios" multiple>
            {% for ejercicio in ejercicios %}
                <option value="{{ ejercicio.id }}">{{ ejercicio.nombre }}</option>
            {% endfor %}
        </select><br>
        <button type="submit">Agregar Rutina</button>
    </form>
</main>

</body>
</html>
